/* Global styles for the In-Between card game */

/* 
 * Gamepad Navigation Styles
 * Provides visual feedback for controller/keyboard navigation
 * Only active when gamepad-navigation-active class is present on body
 */

/* Prevent flash of auth screen on page load when user is already logged in */
html.loading {
  background-color: #1a1a2e;
}

html.loading * {
  visibility: hidden;
}

/* Mobile Scaling - Scale down UI on small screens */
@media (max-width: 600px) {
  :root {
    font-size: 15px; /* Down from default 16px - 93.75% (half the reduction) */
  }
  
  /* Scale down only the game content, not floating elements */
  .mobile-scale-content {
    transform: scale(0.95);
    transform-origin: top left;
    width: 105.26%;
  }
  
  /* Adjust viewport height to account for scaling */
  body {
    min-height: 100vh;
    overflow-x: hidden;
    margin: 0;
    padding: 0;
  }
}

/* Even smaller screens get more aggressive scaling */
@media (max-width: 400px) {
  :root {
    font-size: 14.5px; /* 90.625% (half the reduction) */
  }
  
  .mobile-scale-content {
    transform: scale(0.925);
    transform-origin: top left;
    width: 108.11%; /* Compensate for scale (100% / 0.925) */
  }
}

/* Gamepad focus indicators - only show when gamepad/keyboard is active */
body.gamepad-navigation-active [data-gamepad-focusable="true"]:focus {
  outline: 3px solid #00ff88 !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 2px rgba(0, 255, 136, 0.3) !important;
  border-radius: 8px !important;
  position: relative !important;
  z-index: 100 !important;
}

/* Material-UI specific focus styling for inputs */
body.gamepad-navigation-active .MuiOutlinedInput-root input[data-gamepad-focusable="true"]:focus {
  outline: 3px solid #00ff88 !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 2px rgba(0, 255, 136, 0.3) !important;
}

/* Make sure the outline is visible above Material-UI styles */
body.gamepad-navigation-active .MuiTextField-root [data-gamepad-focusable="true"]:focus {
  outline: 3px solid #00ff88 !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 2px rgba(0, 255, 136, 0.3) !important;
  z-index: 1000 !important;
}

/* Ensure focus is visible for buttons and inputs */
[data-gamepad-focusable="true"] {
  transition: outline 0.2s ease, box-shadow 0.2s ease, border-radius 0.2s ease;
}

/* Hide default focus outline when gamepad navigation is not active */
body:not(.gamepad-navigation-active) [data-gamepad-focusable="true"]:focus {
  outline: none !important;
  box-shadow: none !important;
}

/* Scrollable container focus styling */
body.gamepad-navigation-active [data-gamepad-scrollable="true"]:focus {
  outline: 3px solid #00ff88 !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 2px rgba(0, 255, 136, 0.3) !important;
  border-radius: 8px !important;
  position: relative !important;
  z-index: 100 !important;
}

/* Hide scrollable outline when gamepad navigation is not active */
body:not(.gamepad-navigation-active) [data-gamepad-scrollable="true"]:focus {
  outline: none !important;
  box-shadow: none !important;
}
