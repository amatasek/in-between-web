import{r as e,j as a}from"./react-LCTZrjTk.js";import{b as t,u as s,f as n,A as l,c as r,B as i,U as o,e as c}from"./index-DrsjSCoI.js";const d={coinIcon:"_coinIcon_1htv9_1",small:"_small_1htv9_15",medium:"_medium_1htv9_19",large:"_large_1htv9_23"},m=({size:t="small",className:s=""})=>{const n={small:15,medium:19,large:24},l=n[t]||n.small,r=e.useMemo((()=>`goldGradient-${Math.random().toString(36).substr(2,9)}`),[]),i=e.useMemo((()=>`goldShine-${Math.random().toString(36).substr(2,9)}`),[]);return a.jsx("span",{className:`${d.coinIcon} ${d[t]} ${s}`,children:a.jsxs("svg",{width:l,height:l,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:r,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#FFD700"}),a.jsx("stop",{offset:"50%",stopColor:"#FFA500"}),a.jsx("stop",{offset:"100%",stopColor:"#FF8C00"})]}),a.jsxs("linearGradient",{id:i,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#FFED4E"}),a.jsx("stop",{offset:"100%",stopColor:"#FFD700"})]})]}),a.jsx("path",{d:"M12 2L22 12L12 22L2 12L12 2Z",fill:`url(#${r})`,stroke:"#D4AF37",strokeWidth:"0.5"}),a.jsx("path",{d:"M12 5L18 12L12 18L6 12L12 5Z",fill:`url(#${i})`,opacity:"0.6"}),a.jsx("path",{d:"M12 2L16 6L12 8L8 6L12 2Z",fill:"#FFFACD",opacity:"0.7"})]})})},h={userAvatarContainer:"_userAvatarContainer_1spmo_1",containerRight:"_containerRight_1spmo_6",containerBelow:"_containerBelow_1spmo_11",avatar:"_avatar_1spmo_16",small:"_small_1spmo_33",medium:"_medium_1spmo_39",large:"_large_1spmo_45",avatarImageContainer:"_avatarImageContainer_1spmo_51",avatarImage:"_avatarImage_1spmo_51",initialsPlaceholder:"_initialsPlaceholder_1spmo_69",userInfo:"_userInfo_1spmo_83",username:"_username_1spmo_89",userTitle:"_userTitle_1spmo_95",playerCard:"_playerCard_1spmo_114",cardAppear:"_cardAppear_1spmo_1",playerCardAvatar:"_playerCardAvatar_1spmo_142",playerCardImage:"_playerCardImage_1spmo_151",playerCardInitials:"_playerCardInitials_1spmo_159",playerCardInfo:"_playerCardInfo_1spmo_173",playerCardUsername:"_playerCardUsername_1spmo_182",playerCardTitle:"_playerCardTitle_1spmo_190",playerCardXP:"_playerCardXP_1spmo_198",playerCardLevelXP:"_playerCardLevelXP_1spmo_206",separator:"_separator_1spmo_214",xpValue:"_xpValue_1spmo_218",loading:"_loading_1spmo_223",shimmerBg:"_shimmerBg_1spmo_1",avatarLoader:"_avatarLoader_1spmo_229",shimmerOverlay:"_shimmerOverlay_1spmo_1",skeletonUsername:"_skeletonUsername_1spmo_238",skeletonTitle:"_skeletonTitle_1spmo_248",shimmerText:"_shimmerText_1spmo_1"},u=({userId:s,size:n="medium",showName:l=!0,namePosition:r="right",className:i="",showTitle:o=!0})=>{const[c,d]=e.useState(!1),m=t(s);if(!s)return null;if(!m){const e=h[n]||h.medium,t=l?h[`container${r.charAt(0).toUpperCase()+r.slice(1)}`]:"";return a.jsxs("div",{className:`${h.userAvatarContainer} ${t} ${i}`,children:[a.jsx("div",{className:`${h.avatar} ${e} ${h.loading}`,children:a.jsx("div",{className:h.avatarLoader})}),l&&a.jsxs("div",{className:h.userInfo,children:[a.jsx("div",{className:h.skeletonUsername}),o&&a.jsx("div",{className:h.skeletonTitle})]})]})}const{username:u,profileImg:g,title:_,xp:y,level:j}=m,f=p(u||"Unknown"),v=h[n]||h.medium,b=l?h[`container${r.charAt(0).toUpperCase()+r.slice(1)}`]:"",w="https://api.in-between.live";let N=null;if(g)if(g.startsWith("http"))N=g;else if(g.includes("/uploads/")){N=`${w}/files/images/${g.split("/").pop()}`}else N=`${w}${g}`;return a.jsxs("div",{className:`${h.userAvatarContainer} ${b} ${i}`,children:[a.jsxs("div",{className:`${h.avatar} ${v}`,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[a.jsxs("div",{className:h.avatarImageContainer,children:[N?a.jsx("img",{src:N,alt:`${u}'s avatar`,className:h.avatarImage,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:h.initialsPlaceholder,style:{display:N?"none":"flex"},children:f})]}),c&&a.jsxs("div",{className:h.playerCard,children:[a.jsx("div",{className:h.playerCardAvatar,children:N?a.jsx("img",{src:N,alt:`${u}'s avatar`,className:h.playerCardImage}):a.jsx("div",{className:h.playerCardInitials,children:f})}),a.jsxs("div",{className:h.playerCardInfo,children:[a.jsx("div",{className:h.playerCardUsername,children:u||"Unknown"}),_&&a.jsx("div",{className:h.playerCardTitle,children:_}),void 0!==j&&void 0!==y&&a.jsxs("div",{className:h.playerCardLevelXP,children:["Level ",j," ",a.jsx("span",{className:h.separator,children:"•"})," ",a.jsxs("span",{className:h.xpValue,children:[x(y)," XP"]})]})]})]})]}),l&&a.jsxs("div",{className:h.userInfo,children:[a.jsx("div",{className:h.username,children:u||"Unknown"}),o&&_&&a.jsx("div",{className:h.userTitle,children:_})]})]})},p=e=>e.split(" ").map((e=>e.charAt(0))).join("").toUpperCase().substring(0,2),x=e=>e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString(),g={currencyAmount:"_currencyAmount_18625_1",pillBackground:"_pillBackground_18625_18",darkBackground:"_darkBackground_18625_29"},_=({amount:e,size:t,background:s,customClass:n})=>{const l=[g.currencyAmount,"dark"===s?g.darkBackground:"","pill"===s?g.pillBackground:"",n||""].filter(Boolean).join(" ");return a.jsxs("span",{className:l,children:[a.jsx(m,{size:t}),a.jsx("span",{children:e.toLocaleString()})]})},y=({className:e="h-6 w-6",...t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,...t,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.004.827c-.29.24-.438.613-.431.992a6.759 6.759 0 010 1.905c-.007.378.141.75.431.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.29-.24.438-.613.43-.992a6.932 6.932 0 010-1.905c.007-.378-.14-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281zM15 12a3 3 0 11-6 0 3 3 0 016 0z"})}),j="_toggleContainer_19p7v_1",f="_toggleInput_19p7v_8",v="_toggleLabel_19p7v_14",b="_toggleSlider_19p7v_21",w="_toggleText_19p7v_70",N=({isChecked:e,onChange:t,label:s})=>a.jsx("div",{className:j,children:a.jsxs("label",{className:v,children:[a.jsx("input",{type:"checkbox",checked:e,onChange:t,className:f,"data-gamepad-focusable":"true"}),a.jsx("span",{className:b}),s&&a.jsx("span",{className:w,children:s})]})}),C="_fileUploadContainer_1ak4l_1",k="_fileInput_1ak4l_8",S="_uploadButton_1ak4l_12",$="_changeButton_1ak4l_37",I="_previewContainer_1ak4l_53",A="_imagePreview_1ak4l_61",T="_audioPreview_1ak4l_70",P="_errorMessage_1ak4l_76",L=({onUpload:t,currentFileUrl:s,acceptedFileTypes:n,label:l,previewType:r="image"})=>{const[i,o]=e.useState(!1),[c,d]=e.useState(null),m=e.useRef(null);return a.jsxs("div",{className:C,children:[a.jsx("input",{type:"file",ref:m,onChange:async e=>{const a=e.target.files[0];if(a){d(null),o(!0);try{await t(a)||d("Failed to upload file. Please try again.")}catch(s){d("An error occurred during upload.")}finally{o(!1)}}},accept:n,className:k}),s&&(s?"image"===r?a.jsx("div",{className:I,children:a.jsx("img",{src:s,alt:"Preview",className:A})}):"audio"===r?a.jsx("div",{className:I,children:a.jsx("audio",{controls:!0,src:s,className:T,children:"Your browser does not support the audio element."})}):null:null),a.jsx("button",{type:"button",onClick:()=>{m.current.click()},className:`${S} ${s?$:""}`,disabled:i,"data-gamepad-focusable":"true",children:i?"Uploading...":s?`Change ${l}`:`Upload ${l}`}),c&&a.jsx("div",{className:P,children:c})]})},B=()=>{const{token:t}=s(),{preferences:i,updateSelectedTitle:o}=n(),[c,d]=e.useState([]),[m,h]=e.useState(!0),[u,p]=e.useState(null);e.useEffect((()=>{x()}),[]);const x=async()=>{try{h(!0);const e=await fetch(`${l}/me/titles`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to load titles");const a=await e.json();d(a)}catch(e){p(e.message)}finally{h(!1)}},g=async e=>{try{await o(e)}catch(a){p("Failed to update title")}};return m?a.jsx("div",{className:r.loadingMessage,children:"Loading titles..."}):u?a.jsx("div",{className:r.errorMessage,children:u}):0===c.length?a.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#a0b9d6"},children:"No titles unlocked yet. Play games to earn achievements!"}):a.jsxs("div",{style:{display:"block",width:"100%",overflowX:"auto",overflowY:"hidden",whiteSpace:"nowrap",paddingBottom:"8px"},children:[a.jsxs("div",{onClick:()=>g(""),style:{display:"inline-block",width:"120px",height:"36px",padding:"8px",margin:"0 8px 0 0",borderRadius:"6px",cursor:"pointer",textAlign:"center",backgroundColor:i.selectedTitle?"rgba(255, 255, 255, 0.08)":"rgba(100, 169, 255, 0.3)",border:i.selectedTitle?"2px solid rgba(255, 255, 255, 0.15)":"2px solid #64a9ff",verticalAlign:"top",whiteSpace:"normal",flexDirection:"column",justifyContent:"center"},children:[a.jsx("div",{style:{fontWeight:"bold",color:"#bcdcff",fontSize:"13px"},children:"No Title"}),a.jsx("div",{style:{color:"#a0b9d6",fontSize:"10px",marginTop:"2px"},children:"Display no title"})]}),c.map((e=>a.jsxs("div",{onClick:()=>g(e.title),style:{display:"inline-flex",flexDirection:"column",justifyContent:"center",width:"130px",height:"36px",padding:"8px",margin:"0 8px 0 0",borderRadius:"6px",cursor:"pointer",textAlign:"center",backgroundColor:i.selectedTitle===e.title?"rgba(100, 169, 255, 0.3)":"rgba(255, 255, 255, 0.08)",border:i.selectedTitle===e.title?"2px solid #64a9ff":"2px solid rgba(255, 255, 255, 0.15)",verticalAlign:"top",whiteSpace:"normal"},children:[a.jsx("div",{style:{fontWeight:"bold",color:"#bcdcff",fontSize:"13px"},children:e.title}),a.jsx("div",{style:{color:"#a0b9d6",fontSize:"10px",marginTop:"2px"},children:e.description})]},e.title))),0===c.length&&a.jsx("div",{style:{textAlign:"center",padding:"16px",color:"#a0b9d6",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",border:"1px solid rgba(255, 255, 255, 0.1)",marginTop:"8px",whiteSpace:"normal"},children:"No titles unlocked yet. Play games to earn achievements!"})]})},M=({onClose:e})=>{const{preferences:t,toggleAutoAnte:s,toggleMute:l,uploadTwoSecondPotGif:o,uploadTwoSecondPotMp3:c,uploadProfileImg:d,loading:m}=n();return m?a.jsx(i,{title:"Preferences",onClose:e,style:{maxWidth:600,maxHeight:"25vh"},children:a.jsx("div",{className:r.loadingMessage,children:"Loading preferences..."})}):a.jsx(i,{title:"Preferences",onClose:e,style:{maxWidth:600,maxHeight:"80vh"},children:a.jsxs("div",{className:r.settingsContainer,children:[a.jsx("div",{className:r.sectionHeader,children:"Game Options"}),a.jsxs("div",{className:r.settingItem,children:[a.jsxs("div",{className:r.settingDescription,children:[a.jsx("h4",{children:"Mute Sound"}),a.jsx("p",{children:"Mute all game sound effects"})]}),a.jsx(N,{isChecked:t.muted,onChange:l})]}),a.jsxs("div",{className:r.settingItem,children:[a.jsxs("div",{className:r.settingDescription,children:[a.jsx("h4",{children:"Auto-Ante"}),a.jsx("p",{children:"Automatically ante up when a new round begins"})]}),a.jsx(N,{isChecked:t.autoAnte,onChange:s})]}),a.jsx("div",{className:r.sectionHeader,children:"Customization Options"}),a.jsxs("div",{className:r.settingItem,children:[a.jsxs("div",{className:r.settingDescription,children:[a.jsx("h4",{children:"Profile Image"}),a.jsx("p",{children:"Upload a profile image to personalize your account"})]}),a.jsx(L,{onUpload:d,currentFileUrl:t.profileImg,acceptedFileTypes:"image/jpeg,image/png,image/gif",label:"Image",previewType:"image"})]}),a.jsxs("div",{className:r.settingItem,style:{flexDirection:"column",alignItems:"stretch"},children:[a.jsxs("div",{className:r.settingDescription,style:{marginRight:0,marginBottom:"12px"},children:[a.jsx("h4",{children:"Title"}),a.jsx("p",{children:"Choose a title to display with your name. Unlock more by playing games!"})]}),a.jsx(B,{})]})]})})},U={iconButton:"_iconButton_3xp6j_1",default:"_default_3xp6j_18",danger:"_danger_3xp6j_31",preferences:"_preferences_3xp6j_44",stats:"_stats_3xp6j_57",store:"_store_3xp6j_70"},E=({icon:e,title:t,onClick:s,variant:n="default",compact:l=!0,className:r="",...i})=>a.jsx("button",{className:`${U.iconButton} ${U[n]} ${r}`,onClick:s,title:t,type:"button",...i,children:e}),F=({onModalStateChange:t})=>{const[s,n]=e.useState(!1);return e.useEffect((()=>{t&&t(s)}),[s,t]),a.jsxs(a.Fragment,{children:[a.jsx(E,{onClick:()=>{n(!0)},icon:a.jsx(y,{style:{color:"white",width:20,height:20}}),"aria-label":"Open Preferences",variant:"preferences",title:"Preferences","data-gamepad-focusable":"true"}),s&&a.jsx(M,{isOpen:s,onClose:()=>{n(!1)}})]})},D=({color:e="currentColor",size:t=24})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),a.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),a.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"}),a.jsx("line",{x1:"3",y1:"20",x2:"21",y2:"20"})]}),z="_settingsContainer_22a3p_1",O="_tabsContainer_22a3p_6",R="_tabButton_22a3p_13",H="_activeTab_22a3p_30",W="_tabContent_22a3p_45",G="_totalsTable_22a3p_51",q="_settleUpTable_22a3p_51",V="_totalRow_22a3p_57",X="_paymentRow_22a3p_57",Y="_playerName_22a3p_66",Z="_totalAmount_22a3p_77",J="_paymentAmount_22a3p_77",K="_positive_22a3p_83",Q="_negative_22a3p_87",ee="_paymentText_22a3p_91",ae="_noDataMessage_22a3p_102",te="_loadingMessage_22a3p_109",se=({color:e="currentColor",size:t=24})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),a.jsx("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}),a.jsx("path",{d:"M12 15 L12 18"}),a.jsx("path",{d:"M9.5 16.5 L12 19 L14.5 16.5"}),a.jsx("path",{d:"M8 10 L10 10"}),a.jsx("path",{d:"M12 10 L14 10"}),a.jsx("path",{d:"M16 10 L16 10"})]});let ne;try{ne=require("../../contexts/GameContext").useGameContext}catch(ya){ne=()=>({gameState:null})}const le=({title:e="Download Transaction Log as CSV",gameState:t,...s})=>{let n;try{n=ne?ne():{gameState:null}}catch(ya){n={gameState:null}}const l=t||n?.gameState,r=l?.gameTransactions||l?.gameData?.gameTransactions||[],i=l?._id||l?.id||"unknown";return a.jsx(E,{icon:a.jsx(se,{color:"white",size:20}),title:e,onClick:()=>{const e=Array.isArray(r)?r:[];if(0===e.length)return;let a="Player,Transaction Type,Amount,Round,Timestamp\n";const t=[...e].map((e=>({...e,timestamp:e.timestamp?new Date(e.timestamp):new Date})));t.sort(((e,a)=>e.timestamp-a.timestamp)),t.forEach((e=>{const t=e.timestamp?new Date(e.timestamp).toLocaleString():"N/A",s=e.playerName||e.player||"Unknown Player",n=s.includes(",")?`"${s}"`:s;let l=e.transactionType||"Transaction";if(!e.transactionType&&e.reason){const a=e.reason.split(" ");l=a[0],"Won"===a[0]?l="Win":e.reason.includes("penalty")&&(l="Penalty")}a+=`${n},${l},${e.amount},${e.round||"N/A"},${t}\n`}));const s=new Blob([a],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(s),l=document.createElement("a");l.setAttribute("href",n),l.setAttribute("download",`game-${i}-transactions.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},variant:"default",...s})},re="_noDataMessage_qnwhh_2",ie="_tabContent_qnwhh_9",oe="_statsGrid_qnwhh_15",ce="_statItem_qnwhh_24",de="_statLabel_qnwhh_40",me="_statValue_qnwhh_47",he="_statSuffix_qnwhh_55",ue=({gameData:t})=>{const s=t.gameTransactions,n=t.players,l={};Object.entries(n).forEach((([e,a])=>{l[e]=a.name})),s.forEach((e=>{e.playerId&&!l[e.playerId]&&(l[e.playerId]=e.playerName||"Unknown Player")}));const r=e.useMemo((()=>{if(0===s.length)return[];const e=e=>e.toLocaleString(),a={};s.forEach((e=>{a[e.playerId]||(a[e.playerId]=[]),a[e.playerId].push(e)}));const n=t.round||1,r=t.deckCount||1,i=s.filter((e=>"Ante"===e.transactionType)).reduce(((e,a)=>e+Math.abs(a.amount)),0),o=s.filter((e=>"Bet"===e.transactionType)).reduce(((e,a)=>e+Math.abs(a.amount)),0),c=s.filter((e=>"Bet"===e.transactionType)),d=c.length>0?c.reduce(((e,a)=>Math.abs(a.amount)>Math.abs(e.amount)?a:e),c[0]):null,m=s.reduce(((e,a)=>a.potAmount>e?a.potAmount:e),0),h=s.filter((e=>"2x"===e.transactionType||"3x"===e.transactionType)),u=h.reduce(((e,a)=>e+Math.abs(a.amount)),0),p={};c.forEach((e=>{p[e.playerId]=(p[e.playerId]||0)+1}));let x=null,g=0;Object.entries(p).forEach((([e,a])=>{a>g&&(g=a,x=e)}));const _={};c.forEach((e=>{_[e.playerId]||(_[e.playerId]={total:0,count:0}),_[e.playerId].total+=Math.abs(e.amount),_[e.playerId].count+=1}));let y=null,j=0;Object.entries(_).forEach((([e,a])=>{const t=a.total/a.count;t>j&&(j=t,y=e)}));const f={};s.filter((e=>"Win"===e.transactionType)).forEach((e=>{f[e.playerId]=(f[e.playerId]||0)+1}));let v=null,b=0;Object.entries(f).forEach((([e,a])=>{a>b&&(b=a,v=e)}));const w={};h.forEach((e=>{w[e.playerId]=(w[e.playerId]||0)+1}));let N=null,C=0;Object.entries(w).forEach((([e,a])=>{a>C&&(C=a,N=e)}));const k=t.totals||{};let S=null,$=0,I=null,A=0;return Object.entries(k).forEach((([e,a])=>{a>$&&($=a,S=e),a<A&&(A=a,I=e)})),[{key:"totalDecks",label:"Total Decks",value:r,type:"number"},{key:"totalRounds",label:"Total Rounds",value:n,type:"number"},{key:"totalBets",label:"Total Bets Placed",value:c.length,type:"number"},{key:"totalAnte",label:"Total Ante Amount",value:i,type:"currency"},{key:"totalBetAmount",label:"Total Bet Amount",value:o,type:"currency"},{key:"biggestPot",label:"Biggest Pot",value:m,type:"currency"},{key:"biggestBet",label:"Biggest Single Bet",value:d?Math.abs(d.amount):0,type:"currency",suffix:d?` by ${d.playerName}`:""},{key:"biggestWinner",label:"Biggest Winner",value:S?l[S]||"Unknown Player":"N/A",type:"text",suffix:S?` (+${e($)})`:""},{key:"biggestLoser",label:"Biggest Loser",value:I?l[I]||"Unknown Player":"N/A",type:"text",suffix:I?` (${e(A)})`:""},{key:"mostAggressive",label:"Most Aggressive Player",value:x?l[x]||"Unknown Player":"N/A",type:"text",suffix:x?` (${e(g)} bets)`:""},{key:"highestAvgBet",label:"Highest Average Bet",value:y?l[y]||"Unknown Player":"N/A",type:"text",suffix:y?` (avg: ${e(Math.round(j))})`:""},{key:"mostWinning",label:"Most Winning Player",value:v?l[v]||"Unknown Player":"N/A",type:"text",suffix:v?` (${e(b)} wins)`:""},{key:"totalPenalties",label:"Total Penalties",value:h.length,type:"number",suffix:h.length>0?` (${e(u)} coins)`:""},{key:"unluckyPlayer",label:"Most Penalized Player",value:N?l[N]||"Unknown Player":"N/A",type:"text",suffix:N?` (${e(C)} penalties)`:""}]}),[s,l]);return a.jsx("div",{className:ie,children:0===r.length?a.jsx("p",{className:re,children:"No statistics available for this game."}):a.jsx("div",{className:oe,children:r.map((e=>{return a.jsxs("div",{className:ce,children:[a.jsx("div",{className:de,children:e.label}),a.jsxs("div",{className:me,children:[(t=e.type,s=e.value,"currency"===t?a.jsx(_,{amount:s,size:"small"}):"percentage"===t?`${(100*s).toFixed(1)}%`:"number"===t?s.toLocaleString():s),e.suffix&&a.jsx("span",{className:he,children:e.suffix})]})]},e.key);var t,s}))})})},pe=({onClose:t,gameData:s})=>{if(!s)return a.jsx(i,{title:"Game Summary",onClose:t,style:{maxWidth:800},children:a.jsx("div",{className:te,children:"Loading game data..."})});const n=s.gameTransactions||[],l=s.players||{},r=s.id||"unknown",o=s.settings?.isPrivate||!1,c=Array.isArray(n)?n:[],d={};Object.entries(l).forEach((([e,a])=>{d[e]=a.name})),c.forEach((e=>{e.playerId&&!d[e.playerId]&&(d[e.playerId]=e.playerName||"Unknown Player")}));const m=s.totals||{},h=e.useMemo((()=>{if(2===Object.keys(m).length){const e=Object.entries(m),[a,t]=e[0],[s,n]=e[1];if(Math.abs(t+n)<.1){if(t>0)return[{from:s,fromName:d[s],to:a,toName:d[a],amount:Math.abs(t)}];if(n>0)return[{from:a,fromName:d[a],to:s,toName:d[s],amount:Math.abs(n)}]}}const e=[],a=Object.entries(m).filter((([e,a])=>a<0)).map((([e,a])=>({playerId:e,playerName:d[e]||"Unknown Player",amount:Math.abs(a)}))),t=Object.entries(m).filter((([e,a])=>a>0)).map((([e,a])=>({playerId:e,playerName:d[e]||"Unknown Player",amount:a})));for(a.sort(((e,a)=>a.amount-e.amount)),t.sort(((e,a)=>a.amount-e.amount));t.length>0&&a.length>0;){const s=t[0],n=a[0],l=Math.min(s.amount,n.amount);if(!(l>.01))break;e.push({from:n.playerId,fromName:n.playerName,to:s.playerId,toName:s.playerName,amount:l}),s.amount-=l,n.amount-=l,s.amount<.01&&t.shift(),n.amount<.01&&a.shift()}return e}),[m,d]),[u,p]=e.useState("totals");return a.jsx(i,{title:`Game Summary (${r})`,onClose:t,headerButtons:a.jsx(le,{gameState:s}),style:{maxWidth:800},children:a.jsxs("div",{className:z,children:[a.jsxs("div",{className:O,children:[a.jsx("button",{className:`${R} ${"totals"===u?H:""}`,onClick:()=>p("totals"),"data-gamepad-focusable":"true",children:"Totals"}),a.jsx("button",{className:`${R} ${"stats"===u?H:""}`,onClick:()=>p("stats"),"data-gamepad-focusable":"true",children:"Stats"}),o&&a.jsx("button",{className:`${R} ${"payouts"===u?H:""}`,onClick:()=>p("payouts"),"data-gamepad-focusable":"true",children:"Payouts"})]}),"totals"===u&&a.jsx("div",{className:W,children:0===Object.keys(m).length?a.jsx("p",{className:ae,children:"No transactions recorded yet."}):a.jsx("div",{className:G,children:Object.entries(m).map((([e,t])=>a.jsxs("div",{className:V,children:[a.jsx("span",{className:Y,children:d[e]||"Unknown Player"}),a.jsx("span",{className:`${Z} ${t>=0?K:Q}`,children:a.jsx(_,{amount:t,size:"small"})})]},e)))})}),"stats"===u&&a.jsx(ue,{gameData:s}),"payouts"===u&&o&&a.jsx("div",{className:W,children:0===h.length?a.jsx("p",{className:ae,children:"No payments needed or no transactions recorded yet."}):a.jsx("div",{className:q,children:h.map(((e,t)=>a.jsxs("div",{className:X,children:[a.jsxs("span",{className:ee,children:[a.jsx("span",{className:Y,children:e.fromName})," pays"," ",a.jsx("span",{className:Y,children:e.toName})]}),a.jsx("span",{className:J,children:a.jsx(_,{amount:e.amount,size:"small"})})]},t)))})})]})})},xe="_leaderboardContainer_1gsc7_1",ge="_leaderboardHeader_1gsc7_9",_e="_durationSelector_1gsc7_15",ye="_durationButton_1gsc7_23",je="_active_1gsc7_38",fe="_loadingMessage_1gsc7_43",ve="_errorMessage_1gsc7_43",be="_emptyMessage_1gsc7_43",we="_loadingSpinner_1gsc7_55",Ne="_leaderboardList_1gsc7_73",Ce="_leaderboardRow_1gsc7_82",ke="_rankCell_1gsc7_97",Se="_rank_1gsc7_97",$e="_playerCell_1gsc7_108",Ie="_statsCell_1gsc7_113",Ae=()=>{const[t,s]=e.useState([]),[n,r]=e.useState(!0),[i,c]=e.useState(null),[d,m]=e.useState("all"),h=e.useContext(o);e.useEffect((()=>{p()}),[d]);const p=async()=>{r(!0),c(null);try{const e=await fetch(`${l}/leaderboard?duration=${d}`);if(!e.ok)throw new Error("Failed to fetch leaderboard");const a=await e.json();if(s(a.leaderboard||[]),h&&a.leaderboard){const e=a.leaderboard.map((e=>e.userId));h.prefetchUsers(e)}}catch(e){c(e.message)}finally{r(!1)}},x=e=>1===e?"🥇":2===e?"🥈":3===e?"🥉":`#${e}`;return a.jsxs("div",{className:xe,children:[a.jsx("div",{className:ge,children:a.jsxs("div",{className:_e,children:[a.jsx("button",{className:`${ye} ${"all"===d?je:""}`,onClick:()=>m("all"),"data-gamepad-focusable":"true",children:"All Time"}),a.jsx("button",{className:`${ye} ${"30days"===d?je:""}`,onClick:()=>m("30days"),"data-gamepad-focusable":"true",children:"Last 30 Days"})]})}),n?a.jsxs("div",{className:fe,children:[a.jsx("div",{className:we}),"Loading leaderboard..."]}):i?a.jsxs("div",{className:ve,children:["Error: ",i]}):0===t.length?a.jsx("div",{className:be,children:"No players found for this time period."}):a.jsx("div",{className:Ne,"data-gamepad-scrollable":"true",tabIndex:"0",children:t.map((e=>a.jsxs("div",{className:Ce,children:[a.jsx("div",{className:ke,children:a.jsx("span",{className:Se,children:x(e.rank)})}),a.jsx("div",{className:$e,children:a.jsx(u,{userId:e.userId,size:"small",showName:!0,showTitle:!0,namePosition:"right"})}),a.jsx("div",{className:Ie,children:a.jsx(_,{amount:e.totalProfit,size:"small"})})]},e.userId)))})]})},Te="_statsPlaceholder_t0x7w_1",Pe="_tabsContainer_t0x7w_12",Le="_tabButton_t0x7w_19",Be="_activeTab_t0x7w_36",Me="_tabContent_t0x7w_51",Ue="_statsGrid_t0x7w_62",Ee="_statItem_t0x7w_92",Fe="_statLabel_t0x7w_108",De="_statValue_t0x7w_115",ze="_statSuffix_t0x7w_123",Oe="_historyTable_t0x7w_137",Re="_tableHeader_t0x7w_169",He="_gameNameHeader_t0x7w_180",We="_playerCountHeader_t0x7w_180",Ge="_roundsHeader_t0x7w_180",qe="_endDateHeader_t0x7w_180",Ve="_historyRow_t0x7w_196",Xe="_gameNameCell_t0x7w_203",Ye="_playerCountCell_t0x7w_211",Ze="_roundsCell_t0x7w_211",Je="_endDateCell_t0x7w_219",Ke="_gameNameLink_t0x7w_227",Qe="_pageButton_t0x7w_313",ea="_pageInfo_t0x7w_339",aa="_errorMessage_t0x7w_351",ta="_loadingMessage_t0x7w_372",sa="_loadingSpinner_t0x7w_383",na=({onClose:t})=>{const{token:n}=s(),[o,c]=e.useState("leaderboard"),[d,m]=e.useState(!0),[h,u]=e.useState(null),[p,x]=e.useState({games:[],pagination:{}}),[g,y]=e.useState(0),[j,f]=e.useState(!1),[v,b]=e.useState(null),[w,N]=e.useState(null),[C,k]=e.useState(!0),[S,$]=e.useState(null);e.useEffect((()=>{(async()=>{m(!0),u(null);try{const e=await fetch(`${l}/games/history?pageSize=5&pageNumber=${g}`,{headers:{Authorization:`Bearer ${n}`}});if(!e.ok)throw new Error("Failed to fetch game history");const a=await e.json();x(a)}catch(e){u(e.message)}finally{m(!1)}})()}),[n,g]),e.useEffect((()=>{(async()=>{k(!0),$(null);try{const e=await fetch(`${l}/me/stats`,{headers:{Authorization:`Bearer ${n}`}});if(!e.ok)throw new Error("Failed to fetch lifetime stats");const a=await e.json();N(a.stats)}catch(e){$(e.message)}finally{k(!1)}})()}),[n]);const I=e=>{if(!e)return"Unknown";const a=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(a)},A=e=>e.roundCount||0;return a.jsxs(a.Fragment,{children:[a.jsx(i,{title:"Player Stats",onClose:t,style:{maxWidth:800,height:"90ßvh"},children:a.jsxs("div",{className:r.settingsContainer,children:[a.jsxs("div",{className:Pe,children:[a.jsx("button",{className:`${Le} ${"leaderboard"===o?Be:""}`,onClick:()=>c("leaderboard"),"data-gamepad-focusable":"true",children:"Leaderboard"}),a.jsx("button",{className:`${Le} ${"stats"===o?Be:""}`,onClick:()=>c("stats"),"data-gamepad-focusable":"true",children:"Lifetime Stats"}),a.jsx("button",{className:`${Le} ${"history"===o?Be:""}`,onClick:()=>c("history"),"data-gamepad-focusable":"true",children:"Game History"})]}),"leaderboard"===o&&a.jsx("div",{className:Me,children:a.jsx(Ae,{})}),"stats"===o&&a.jsx("div",{className:Me,children:C?a.jsxs("div",{className:ta,children:[a.jsx("div",{className:sa}),"Loading your lifetime stats..."]}):S?a.jsxs("div",{className:aa,children:["Error: ",S]}):w&&0!==w.length?a.jsx("div",{className:Ue,"data-gamepad-scrollable":"true",tabIndex:"0",children:w.map(((e,t)=>{return a.jsxs("div",{className:Ee,children:[a.jsx("div",{className:Fe,children:e.label}),a.jsxs("div",{className:De,children:[(s=e.type,n=e.value,"number"==typeof n?"currency"===s?a.jsx(_,{amount:n.toFixed(2),size:"small"}):"percentage"===s?`${(100*n).toFixed(1)}%`:n.toLocaleString():"boolean"==typeof n?n?"Yes":"No":"date"===s||n instanceof Date?I(n):"number"===s?Number(n).toLocaleString():String(n)),e.suffix&&a.jsx("span",{className:ze,children:e.suffix})]})]},e.key||`stat-${t}`);var s,n}))}):a.jsx("div",{className:Te,children:a.jsx("p",{children:"No lifetime statistics available."})})}),"history"===o&&a.jsx("div",{className:Me,children:d?a.jsxs("div",{className:ta,children:[a.jsx("div",{className:sa}),"Loading your game history..."]}):h?a.jsxs("div",{className:aa,children:["Error: ",h]}):0===p.games.length?a.jsx("div",{className:Te,children:a.jsx("p",{children:"No games found in your history."})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:Oe,"data-gamepad-scrollable":"true",tabIndex:"0",children:[a.jsxs("div",{className:Re,children:[a.jsx("div",{className:He,children:"Game"}),a.jsx("div",{className:We,children:"Players"}),a.jsx("div",{className:Ge,children:"Rounds"}),a.jsx("div",{className:qe,children:"Ended"})]}),p.games.map((e=>a.jsxs("div",{className:Ve,children:[a.jsx("div",{className:Xe,children:a.jsxs("span",{className:Ke,onClick:()=>(e=>{const a=p.games.find((a=>a.id===e));a&&(b(a),f(!0))})(e.id),tabIndex:"0",role:"button","data-gamepad-focusable":"true",children:["#",e.id]})}),a.jsx("div",{className:Ye,children:e.totalPlayerCount}),a.jsx("div",{className:Ze,children:A(e)}),a.jsx("div",{className:Je,children:I(e.endedAt)})]},e.id)))]}),a.jsxs("div",{className:ea,children:[a.jsx("button",{onClick:()=>{g>0&&y(g-1)},disabled:0===g,className:Qe,"aria-label":"Previous page","data-gamepad-focusable":"true",children:"←"}),"Page ",g+1,p.pagination&&p.pagination.total?` of ${Math.ceil(p.pagination.total/5)}`:"",a.jsx("button",{onClick:()=>{p.pagination&&5===p.games.length&&y(g+1)},disabled:!p.pagination||p.games.length<5,className:Qe,"aria-label":"Next page","data-gamepad-focusable":"true",children:"→"})]})]})})]})}),j&&v&&a.jsx(pe,{gameData:v,onClose:()=>{f(!1),b(null)}})]})},la=({onModalStateChange:t,...s})=>{const[n,l]=e.useState(!1);return e.useEffect((()=>{t&&t(n)}),[n,t]),a.jsxs(a.Fragment,{children:[a.jsx(E,{onClick:()=>{l(!0)},icon:a.jsx(D,{color:"white",size:20}),"aria-label":"Open Player Stats",variant:"stats",title:"Player Stats",...s}),n&&a.jsx(na,{isOpen:n,onClose:()=>{l(!1)}})]})},ra=({className:e="h-6 w-6",...t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:e,...t,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m-2.25 9h12a1.5 1.5 0 001.5-1.5v-6a1.5 1.5 0 00-1.5-1.5h-12a1.5 1.5 0 00-1.5 1.5v6a1.5 1.5 0 001.5 1.5z"})}),ia=({onClick:e,...t})=>a.jsx(E,{onClick:e,icon:a.jsx(ra,{style:{color:"white",width:20,height:20}}),"aria-label":"Store",variant:"store",title:"Store",...t}),oa=({color:e="currentColor",size:t=24})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),a.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"})]}),ca=({onClose:e})=>a.jsxs(i,{title:"Game Rules",onClose:e,style:{maxWidth:600},children:[a.jsxs("div",{style:{marginBottom:22},children:[a.jsx("div",{className:r.sectionHeader,children:"Objective"}),a.jsx("div",{className:r.settingDescription,children:'The goal is to bet on whether the third card will have a value that falls "in between" the first two cards.'})]}),a.jsxs("div",{style:{marginBottom:22},children:[a.jsx("div",{className:r.sectionHeader,children:"Card Values"}),a.jsx("div",{className:r.settingDescription,children:"Cards are valued numerically: 2-10 as face value, Jack = 11, Queen = 12, King = 13, and Ace = 1 or 14 (player's choice)."})]}),a.jsxs("div",{style:{marginBottom:22},children:[a.jsx("div",{className:r.sectionHeader,children:"Game Flow"}),a.jsx("div",{className:r.settingDescription,children:a.jsxs("ol",{style:{paddingLeft:20,margin:0},children:[a.jsx("li",{children:"Each player antes up to join the round."}),a.jsx("li",{children:"The player to the right of the dealer goes first."}),a.jsx("li",{children:"Two cards are dealt face up."}),a.jsx("li",{children:"Player decides whether to bet or pass."}),a.jsx("li",{children:"If a bet is placed, the third card is revealed."}),a.jsx("li",{children:"Bets are settled."}),a.jsx("li",{children:"Next player goes."}),a.jsx("li",{children:"If the pot is empty, players ante up again to start a new round."})]})})]}),a.jsxs("div",{style:{marginBottom:22},children:[a.jsx("div",{className:r.sectionHeader,children:"Betting"}),a.jsxs("div",{className:r.settingDescription,children:["If you think the third card will fall between the first two cards, you can bet up to the pot amount.",a.jsx("br",{}),"If you win, you receive the amount of your bet from the pot.",a.jsx("br",{}),"If you lose, your bet is added to the pot."]})]}),a.jsxs("div",{style:{marginBottom:22},children:[a.jsx("div",{className:r.sectionHeader,children:"POT Button"}),a.jsx("div",{className:r.settingDescription,children:"The POT button allows you to bet the entire pot amount at once for maximum winnings."})]}),a.jsxs("div",{style:{marginBottom:6},children:[a.jsx("div",{className:r.sectionHeader,children:"Special Rules"}),a.jsx("div",{className:r.settingDescription,children:a.jsxs("ul",{style:{paddingLeft:20,margin:0},children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Ace Choice:"})," If the first card is an Ace, you can choose to play it as low (1) or high (14)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Second Chance:"})," If the first two cards are the same, you can chose to ante again to see another hand."]})]})})]})]}),da=({title:t="View Game Rules",onModalStateChange:s,...n})=>{const[l,r]=e.useState(!1);return e.useEffect((()=>{s&&s(l)}),[l,s]),a.jsxs(a.Fragment,{children:[a.jsx(E,{icon:a.jsx(oa,{color:"white",size:20}),title:t,onClick:()=>{r(!0)},variant:"default",...n}),l&&a.jsx(ca,{onClose:()=>{r(!1)}})]})},ma=({type:t="text",title:s="",...n})=>{const l=e.useRef(null),{enhanceInput:r}=c();return e.useEffect((()=>{if(l.current){return r(l.current,t,s)}}),[r,t,s]),a.jsx("input",{ref:l,type:t,"data-gamepad-focusable":"true",...n})},ha="_tabsContainer_191ec_2",ua="_tabButton_191ec_8",pa="_activeTab_191ec_27",xa="_loadingSpinner_191ec_41";const ga=new class{constructor(){this.API_URL="https://api.in-between.live",this.baseURL=`${this.API_URL}/purchases`}getAuthHeaders(){const e=localStorage.getItem("token");return{"Content-Type":"application/json",Authorization:e?`Bearer ${e}`:""}}async getOfferingsByType(e){try{const a=`${this.baseURL}/offerings?offeringType=${encodeURIComponent(e)}`,t=await fetch(a,{method:"GET",headers:this.getAuthHeaders(),credentials:"include"});if(!t.ok){const e=await t.json().catch((()=>({})));throw new Error(e.error||`HTTP ${t.status}: Failed to fetch offerings`)}return(await t.json()).offerings||[]}catch(ya){throw new Error(`Failed to fetch product offerings: ${ya.message}`)}}async getAllOfferings(){try{const e=await fetch(`${this.baseURL}/offerings`,{method:"GET",headers:this.getAuthHeaders(),credentials:"include"});if(!e.ok){const a=await e.json().catch((()=>({})));throw new Error(a.error||`HTTP ${e.status}: Failed to fetch offerings`)}return(await e.json()).offerings||[]}catch(ya){throw new Error(`Failed to fetch product offerings: ${ya.message}`)}}async processPurchase(e){try{if(!e)throw new Error("Product ID is required");const a=await fetch(`${this.baseURL}/process`,{method:"POST",headers:this.getAuthHeaders(),credentials:"include",body:JSON.stringify({productId:e})});if(!a.ok){const e=await a.json().catch((()=>({})));throw new Error(e.error||`HTTP ${a.status}: Purchase failed`)}return await a.json()}catch(ya){throw new Error(`Purchase failed: ${ya.message}`)}}async getCoinOfferings(){return this.getOfferingsByType("coin")}},_a=({onClose:t})=>{const[s,n]=e.useState("coins"),[l,o]=e.useState([]),[c,d]=e.useState(!0),[m,h]=e.useState(null),[u,p]=e.useState(null);e.useEffect((()=>{x()}),[]);const x=async()=>{try{d(!0),p(null);const e=await ga.getCoinOfferings();o(e)}catch(e){p("Failed to load products. Please try again.")}finally{d(!1)}};return c?a.jsx(i,{title:"Store",onClose:t,style:{maxWidth:800,maxHeight:"80vh"},children:a.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#a0b9d6"},children:"Loading products..."})}):a.jsxs(i,{title:"Store",onClose:t,style:{maxWidth:800,maxHeight:"80vh"},children:[a.jsx("div",{className:ha,children:a.jsx("button",{className:`${ua} ${"coins"===s?pa:""}`,onClick:()=>n("coins"),"data-gamepad-focusable":"true",children:"Coin Packs"})}),u&&a.jsx("div",{style:{marginBottom:"1rem",padding:"0.75rem",backgroundColor:"rgba(231, 76, 60, 0.1)",border:"1px solid #e74c3c",borderRadius:"8px",color:"#ffb3b3"},children:u}),"coins"===s&&a.jsxs("div",{children:[a.jsx("div",{className:r.sectionHeader,children:"Available Coin Packs"}),0===l.length?a.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#a0b9d6"},children:"No coin packs available at the moment."}):a.jsx("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))"},children:l.map((e=>{return a.jsxs("div",{className:r.settingItem,style:{flexDirection:"column",alignItems:"center",justifyContent:"space-between",textAlign:"center",padding:"1.5rem",background:"rgba(255, 255, 255, 0.08)",borderRadius:"12px",minHeight:"280px"},children:[a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80px",marginBottom:"1rem"},children:e.imageUrl&&a.jsx("img",{src:e.imageUrl,alt:e.name,style:{width:"64px",height:"64px",objectFit:"contain"},onError:e=>{e.target.style.display="none"}})}),a.jsxs("div",{style:{flex:"1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",marginBottom:"1rem"},children:[a.jsxs("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#FFD700",margin:"0 0 0.5rem 0",textAlign:"center"},children:[(n=e.coinAmount,new Intl.NumberFormat("en-US").format(n))," Coins"]}),a.jsx("p",{style:{color:"#a0b9d6",fontSize:"0.875rem",margin:"0 0 0.75rem 0",textAlign:"center",lineHeight:"1.4"},children:e.description}),a.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#bcdcff",textAlign:"center"},children:(s=e.priceUSD,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s))})]}),a.jsx("button",{onClick:()=>(async e=>{try{h(e),p(null),await ga.processPurchase(e),t()}catch(a){p(a.message||"Purchase failed. Please try again.")}finally{h(null)}})(e.id),disabled:m===e.id,className:r.primaryButton,style:{width:"100%",opacity:m===e.id?.6:1,cursor:m===e.id?"not-allowed":"pointer"},"data-gamepad-focusable":"true",children:m===e.id?a.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("div",{className:xa,style:{marginRight:"0.5rem"}}),"Processing..."]}):"Purchase"})]},e.id);var s,n}))})]})]})};export{_ as C,ma as G,E as I,la as P,da as R,ia as S,N as T,u as U,F as a,_a as b,pe as c};
