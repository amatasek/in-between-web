import{a1 as U,Z as e,a2 as K,_ as k,a0 as M,a3 as ee,a4 as se}from"./index-CHeR23ot.js";import{b as g,R as te,f as ae,u as ne}from"./vendor-CT7sGowS.js";import{u as re}from"./useGamepadNavigation-DKu7SyYo.js";import{A as oe}from"./AppHeader-B-_RrcEG.js";import{F as ie}from"./Footer-CX2KHmyT.js";import{c as L}from"./createLucideIcon-D-AJSOET.js";import{B as F,T as I,G as A,C as Y,Z as X,U as ce,S as le,P as de,R as me,a as ue,b as pe,u as he,A as ge,c as xe,d as O}from"./useAdInterstitial-COXgFMib.js";import"./socket-CA1CrNgP.js";import"./audio-hxunv4lQ.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],fe=L("gift",_e);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ye=L("lock",je);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ne=L("plus",we);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ce=L("search",be),ve="_lobbyScreen_pke86_1",Se="_withAds_pke86_9",ke="_gameListTitle_pke86_30",Ae="_searchContainer_pke86_41",Ie="_gameListWrapper_pke86_73",Be="_userDisconnectedGame_pke86_80",Le="_userInGame_pke86_92",Pe="_gameListInfo_pke86_114",De="_gameListId_pke86_120",$e="_disconnectedBadge_pke86_129",Ge="_inGameBadge_pke86_141",Ee="_gameListPlayers_pke86_153",Re="_emptyStateMessage_pke86_159",ze="_privatePill_pke86_168",Me="_onlineCountWrapper_pke86_182",Oe="_playerSection_pke86_190",Te="_gameActionsSection_pke86_196",We="_gameListSection_pke86_205",Ue="_gameCard_pke86_212",_={lobbyScreen:ve,withAds:Se,gameListTitle:ke,searchContainer:Ae,gameListWrapper:Ie,userDisconnectedGame:Be,userInGame:Le,gameListInfo:Pe,gameListId:De,disconnectedBadge:$e,inGameBadge:Ge,gameListPlayers:Ee,emptyStateMessage:Re,privatePill:ze,onlineCountWrapper:Me,playerSection:Oe,gameActionsSection:Te,gameListSection:We,gameCard:Ue},Fe="_pill_19yh2_1",Ye="_pulse_19yh2_23",Xe="_text_19yh2_49",D={pill:Fe,pulse:Ye,text:Xe},Je=()=>{const{socket:t,isConnected:s}=U(),[o,a]=g.useState(null);return g.useEffect(()=>{if(!t||!s)return;t.emit("getOnlinePlayerCount",r=>{a(r)});const i=r=>a(r);return t.on("onlinePlayerCountUpdate",i),()=>{t.off("onlinePlayerCountUpdate",i)}},[t,s]),o===null?null:e.jsxs("div",{className:D.pill,children:[e.jsx("span",{className:D.pulse}),e.jsxs("span",{className:D.text,children:[o," online"]})]})};function Ze({game:t,onJoin:s,userId:o}){const a=t.settings?.customName||t.id,i=t.disconnectedPlayers?.some(u=>u.userId===o),r=t.allPlayers?.some(u=>u.userId===o&&!u.disconnected);let l="Join";i?l="Reconnect":r&&(l="Continue");let x=`panel-frost ${_.gameCard}`;return i?x+=` ${_.userDisconnectedGame}`:r&&(x+=` ${_.userInGame}`),e.jsxs("div",{className:x,children:[e.jsxs("div",{className:_.gameListInfo,style:{flex:1},children:[e.jsxs("div",{className:_.gameListId,children:[" ",a,t.settings?.isPrivate&&e.jsxs("span",{className:_.privatePill,title:"Private Game",children:[e.jsx(ye,{size:"0.9em",style:{marginRight:"4px",verticalAlign:"middle"}}),"Private"]}),i&&e.jsx("span",{className:_.disconnectedBadge,title:"You're disconnected from this game",children:"⚠️ Reconnect"}),r&&e.jsx("span",{className:_.inGameBadge,title:"You're in this game",children:"You're In"})]}),e.jsxs("div",{className:_.gameListPlayers,children:[" ",t.playerCount," ",t.playerCount===1?"player":"players"]})]}),e.jsx("button",{type:"button",className:"btn btn-primary",style:{padding:"0.4rem 1rem",fontSize:"0.9rem",minWidth:"80px",maxWidth:"100px",flexShrink:0},onClick:()=>s(t.id),disabled:!o,"data-gamepad-focusable":"true",children:l})]})}const qe="_gameSettingItem_tzwbj_1",Qe="_settingDescription_tzwbj_13",He="_settingControls_tzwbj_35",Ve="_textInput_tzwbj_42",Ke="_inputError_tzwbj_60",m={gameSettingItem:qe,settingDescription:Qe,settingControls:He,textInput:Ve,inputError:Ke},T={useCustomName:!1,customName:"",isPrivate:!1,password:"",enableAceChoice:!0,enableSecondChance:!0,numberOfBots:0,anteAmount:""},es=({initialSettings:t=T,onSubmit:s,onClose:o})=>{const[a,i]=g.useState({...T,...t}),[r,l]=g.useState({}),x=n=>{const h={};if(n.useCustomName){const p=n.customName||"";p?p.length<4||p.length>26?h.customName="Name must be 4-26 characters.":/^[a-zA-Z0-9_-]+$/.test(p)||(h.customName="Use letters, numbers, -, or _."):h.customName="Custom name is required."}if(n.isPrivate){const p=n.password||"";p?(p.length<3||p.length>36)&&(h.password="Password must be 3-36 characters."):h.password="Password is required."}const d=n.numberOfBots;(d<0||d>16)&&(h.numberOfBots="Number of bots must be between 0 and 16.");const c=n.anteAmount;if(c!==""&&c!==null&&c!==void 0){const p=parseInt(c);(isNaN(p)||p<1||p>100)&&(h.anteAmount="Ante amount must be between 1 and 100.")}return h},u=(n,h)=>{i(d=>{const c={...d,[n]:h};return n==="useCustomName"&&!h&&(c.customName="",r.customName&&l(p=>{const y={...p};return delete y.customName,y})),n==="isPrivate"&&!h&&(c.password="",r.password&&l(p=>{const y={...p};return delete y.password,y})),c}),(n==="customName"||n==="useCustomName")&&r.customName&&l(d=>{const c={...d};return delete c.customName,c}),(n==="password"||n==="isPrivate")&&r.password&&l(d=>{const c={...d};return delete c.password,c}),n==="numberOfBots"&&r.numberOfBots&&l(d=>{const c={...d};return delete c.numberOfBots,c}),n==="anteAmount"&&r.anteAmount&&l(d=>{const c={...d};return delete c.anteAmount,c})},N=n=>{n.preventDefault();const h=x(a);if(Object.keys(h).length>0)l(h);else{l({});const d={...a,customName:a.useCustomName?a.customName:null,anteAmount:a.anteAmount===""?1:parseInt(a.anteAmount)};delete d.useCustomName,s(d)}};return e.jsx(F,{title:"Game Options",onClose:o,style:{maxWidth:600},footer:e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{type:"button",onClick:o,className:"btn btn-secondary","data-gamepad-focusable":"true",children:"Cancel"}),e.jsx("button",{type:"submit",form:"gameSettingsForm",className:"btn btn-primary",disabled:Object.keys(r).length>0,"data-gamepad-focusable":"true",children:"Create Game"})]}),children:e.jsxs("form",{id:"gameSettingsForm",onSubmit:N,children:[e.jsxs("div",{className:`panel-alt ${m.gameSettingItem}`,children:[e.jsxs("div",{className:m.settingDescription,children:[e.jsx("h4",{children:"Custom Game Name"}),e.jsx("p",{children:"Set a custom name for your game lobby"})]}),e.jsxs("div",{className:m.settingControls,children:[e.jsx(I,{isChecked:a.useCustomName,onChange:n=>u("useCustomName",n.target.checked)}),a.useCustomName&&e.jsx(A,{title:"Enter Game Name",type:"text",value:a.customName||"",onChange:n=>u("customName",n.target.value),className:`${m.textInput}${r.customName?` ${m.inputError}`:""}`,placeholder:"Game Name",maxLength:26,style:{marginTop:8}}),r.customName&&e.jsx("span",{className:"errorMessage",children:r.customName})]})]}),e.jsxs("div",{className:`panel-alt ${m.gameSettingItem}`,children:[e.jsxs("div",{className:m.settingDescription,children:[e.jsx("h4",{children:"Private Game"}),e.jsx("p",{children:"Only players with the password can join"})]}),e.jsxs("div",{className:m.settingControls,children:[e.jsx(I,{isChecked:a.isPrivate,onChange:n=>u("isPrivate",n.target.checked)}),a.isPrivate&&e.jsx(A,{title:"Enter Game Password",type:"text",value:a.password||"",onChange:n=>u("password",n.target.value),className:`${m.textInput}${r.password?` ${m.inputError}`:""}`,placeholder:"Password",maxLength:36,style:{marginTop:8}}),r.password&&e.jsx("span",{className:"errorMessage",children:r.password})]})]}),e.jsxs("div",{className:`panel-alt ${m.gameSettingItem}`,children:[e.jsxs("div",{className:m.settingDescription,children:[e.jsx("h4",{children:"Number of Bots"}),e.jsx("p",{children:"Add AI players to your game (0-16)"})]}),e.jsxs("div",{className:m.settingControls,children:[e.jsx(A,{title:"Number of AI Players",type:"number",min:"0",max:"16",value:a.numberOfBots===0?"":a.numberOfBots,onChange:n=>u("numberOfBots",n.target.value===""?0:parseInt(n.target.value)||0),className:`${m.textInput} no-validation${r.numberOfBots?` ${m.inputError}`:""}`,placeholder:"0"}),r.numberOfBots&&e.jsx("span",{className:"errorMessage",children:r.numberOfBots})]})]}),e.jsxs("div",{className:`panel-alt ${m.gameSettingItem}`,children:[e.jsxs("div",{className:m.settingDescription,children:[e.jsx("h4",{children:"Ante Amount"}),e.jsx("p",{children:"Set the ante amount for each round (1-100)"})]}),e.jsxs("div",{className:m.settingControls,children:[e.jsx(A,{title:"Ante Amount",type:"number",min:"1",max:"100",value:a.anteAmount,onChange:n=>u("anteAmount",n.target.value),className:`${m.textInput} no-validation${r.anteAmount?` ${m.inputError}`:""}`,placeholder:"1"}),r.anteAmount&&e.jsx("span",{className:"errorMessage",children:r.anteAmount})]})]}),e.jsxs("div",{className:`panel-alt ${m.gameSettingItem}`,children:[e.jsxs("div",{className:m.settingDescription,children:[e.jsx("h4",{children:"Enable Ace Choice"}),e.jsx("p",{children:"Allow players to choose high/low on Ace"})]}),e.jsx("div",{className:m.settingControls,children:e.jsx(I,{isChecked:a.enableAceChoice,onChange:n=>u("enableAceChoice",n.target.checked)})})]}),e.jsxs("div",{className:`panel-alt ${m.gameSettingItem}`,children:[e.jsxs("div",{className:m.settingDescription,children:[e.jsx("h4",{children:"Enable Second Chance"}),e.jsx("p",{children:"Allow players to ante up for a second chance"})]}),e.jsx("div",{className:m.settingControls,children:e.jsx(I,{isChecked:a.enableSecondChance,onChange:n=>u("enableSecondChance",n.target.checked)})})]})]})})},ss="_userSection_s2lhk_1",ts="_container1_s2lhk_11",as="_container2_s2lhk_20",ns="_avatarContainer_s2lhk_30",rs="_headerButtons_s2lhk_34",os="_logoutButton_s2lhk_58",S={userSection:ss,container1:ts,container2:as,avatarContainer:ns,headerButtons:rs,logoutButton:os},is="_progressContainer_1gewg_1",cs="_balanceSection_1gewg_9",ls="_balanceLeft_1gewg_16",ds="_xpBonusIndicator_1gewg_29",ms="_xpBonusIcon_1gewg_35",us="_xpBonusText_1gewg_41",ps="_xpSection_1gewg_49",hs="_xpBarContainer_1gewg_53",gs="_xpOverlay_1gewg_63",xs="_xpLevel_1gewg_77",_s="_xpNext_1gewg_84",fs="_xpBar_1gewg_53",w={progressContainer:is,balanceSection:cs,balanceLeft:ls,xpBonusIndicator:ds,xpBonusIcon:ms,xpBonusText:us,xpSection:ps,xpBarContainer:hs,xpOverlay:gs,xpLevel:xs,xpNext:_s,xpBar:fs},js=({userId:t,balance:s})=>{const o=K(t),{user:a}=k(),i=a?.subscription?.isPremium;return e.jsxs("div",{className:`panel-frost ${w.progressContainer}`,children:[e.jsxs("div",{className:w.balanceSection,children:[e.jsx("div",{className:w.balanceLeft,children:e.jsx(Y,{amount:Number(s)||0,size:"medium"})}),i&&e.jsxs("div",{className:w.xpBonusIndicator,children:[e.jsx(X,{size:16,strokeWidth:2.5,className:w.xpBonusIcon}),e.jsx("span",{className:w.xpBonusText,children:"2x XP"})]})]}),o&&e.jsx("div",{className:w.xpSection,children:e.jsxs("div",{className:w.xpBarContainer,children:[e.jsx("div",{className:w.xpBar,style:{width:o.level>=100?"100%":`${o.percentToNextLevel||0}%`}}),e.jsxs("div",{className:w.xpOverlay,children:[e.jsxs("div",{className:w.xpLevel,children:["Level ",o.level]}),e.jsx("div",{className:w.xpNext,children:o.level<100?`${o.xpToNextLevel.toLocaleString()} XP`:"MAX"})]})]})})]})},ys=(t,s)=>{const o=new Date(t),a=new Date(s);return o.getUTCFullYear()===a.getUTCFullYear()&&o.getUTCMonth()===a.getUTCMonth()&&o.getUTCDate()===a.getUTCDate()},ws=t=>{if(!t)return!0;const{lastClaimDate:s}=t;if(!s)return!0;const o=new Date,a=new Date(s);return!ys(a,o)},Ns=t=>{if(!t||!t.lastClaimDate||t.currentStreak===0)return 1;const{lastClaimDate:s,currentStreak:o}=t,a=new Date,i=new Date(s);if((a-i)/(1e3*60*60)>48)return 1;const l=o+1;return l>7?1:l},bs="_claimButton_1ciw7_1",Cs={claimButton:bs},vs=({onClick:t})=>{const{user:s}=k();return!s||!ws(s.dailyRewards)?null:e.jsxs("button",{type:"button",className:Cs.claimButton,onClick:t,"data-gamepad-focusable":"true",children:[e.jsx(fe,{size:16}),e.jsx("span",{children:"Claim"})]})},J=g.createContext(),Ss=()=>{const t=g.useContext(J);if(!t)throw new Error("useDailyReward must be used within a DailyRewardProvider");return t},ks=({children:t})=>{const{token:s,refreshUserData:o}=k(),[a,i]=g.useState([]),[r,l]=g.useState(!1),[x,u]=g.useState(null),N=g.useCallback(async()=>{if(s){l(!0),u(null);try{const d=await fetch(`${M}/daily-reward/offerings`,{headers:{Authorization:`Bearer ${s}`}});if(!d.ok)throw new Error("Failed to fetch offerings");const c=await d.json();i(c.offerings)}catch(d){console.error("[DAILY_REWARD] Error fetching offerings:",d),u(d.message)}finally{l(!1)}}},[s]),n=g.useCallback(async d=>{if(!s)throw new Error("No authentication token available");l(!0),u(null);try{const c=await fetch(`${M}/daily-reward/claim`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({day:d})}),p=await c.json();if(!c.ok||!p.success)throw new Error(p.error||"Failed to claim reward");return await o(),p}catch(c){throw console.error("[DAILY_REWARD] Error claiming reward:",c),u(c.message),c}finally{l(!1)}},[s,o]);g.useEffect(()=>{N()},[N]);const h={offerings:a,loading:r,error:x,claimReward:n,fetchOfferings:N};return e.jsx(J.Provider,{value:h,children:t})},As="_rewardCard_1cwzf_1",Is="_cardLeft_1cwzf_8",Bs="_cardRight_1cwzf_14",Ls="_dayLabel_1cwzf_23",Ps="_checkmark_1cwzf_29",Ds="_xpReward_1cwzf_34",$s="_rewardAmount_1cwzf_40",Gs="_strikethrough_1cwzf_44",Es="_premiumAmount_1cwzf_50",Rs="_premiumIcon_1cwzf_56",zs="_plusIcon_1cwzf_62",Ms="_current_1cwzf_68",Os="_claimed_1cwzf_83",Ts="_future_1cwzf_87",j={rewardCard:As,cardLeft:Is,cardRight:Bs,dayLabel:Ls,checkmark:Ps,xpReward:Ds,rewardAmount:$s,strikethrough:Gs,premiumAmount:Es,premiumIcon:Rs,plusIcon:zs,current:Ms,claimed:Os,future:Ts},Ws=({day:t,xp:s,chips:o,isClaimed:a,isCurrent:i,isFuture:r,isPremium:l})=>{const x=`panel-alt ${j.rewardCard} ${a?j.claimed:""} ${i?j.current:""} ${r?j.future:""}`;return e.jsxs("div",{className:x,children:[e.jsxs("div",{className:j.cardLeft,children:[e.jsxs("span",{className:j.dayLabel,children:["Day ",t]}),a&&e.jsx("span",{className:j.checkmark,children:"✓"})]}),e.jsxs("div",{className:j.cardRight,children:[o>0&&e.jsx(Y,{amount:o,size:"small"}),o>0&&s>0&&e.jsx(Ne,{size:16,className:j.plusIcon}),s>0&&e.jsx("div",{className:j.xpReward,children:l?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:j.strikethrough,children:s}),e.jsxs("span",{className:j.premiumAmount,children:[s*2," XP"]}),e.jsx(X,{size:14,strokeWidth:2.5,className:j.premiumIcon})]}):e.jsxs("span",{className:j.rewardAmount,children:[s," XP"]})})]})]})},Us=te.memo(Ws),Fs="_calendar_dfjin_1",Ys="_loading_dfjin_8",W={calendar:Fs,loading:Ys},Xs=({offerings:t,currentStreak:s,expectedDay:o,isPremium:a})=>!t||t.length===0?e.jsx("div",{className:W.loading,children:"Loading rewards..."}):e.jsx("div",{className:W.calendar,children:t.map(i=>{const r=i.day<s||i.day===s&&s>0,l=i.day===o,x=i.day>o||s===7&&i.day>1;return e.jsx(Us,{day:i.day,xp:i.xp,chips:i.chips,isClaimed:r,isCurrent:l,isFuture:x,isPremium:a},i.day)})}),Js="_subtitle_14bij_1",Zs="_loading_14bij_10",qs="_error_14bij_17",B={subtitle:Js,loading:Zs,error:qs},Qs=({onClose:t})=>{const{user:s}=k(),{offerings:o,loading:a,claimReward:i}=Ss(),[r,l]=g.useState(!1),[x,u]=g.useState(null),N=s?.dailyRewards?.currentStreak||0,n=Ns(s?.dailyRewards),h=s?.subscription?.isPremium,d=async()=>{l(!0),u(null);try{await i(n),t()}catch(c){u(c.message),l(!1)}};return e.jsxs(F,{title:"Daily Login Reward",onClose:t,style:{maxWidth:650},className:B.dailyRewardModal,footer:!a&&e.jsx("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:e.jsx("button",{type:"button",className:"btn btn-primary",onClick:d,disabled:r,"data-gamepad-focusable":"true",children:r?"Claiming...":`Claim Day ${n} Reward`})}),children:[e.jsx("div",{className:B.subtitle,children:N>0?`Current Streak: Day ${N} of 7`:"Start your streak today!"}),a?e.jsx("div",{className:B.loading,children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{offerings:o,currentStreak:N,expectedDay:n,isPremium:h}),x&&e.jsx("p",{className:B.error,children:x})]})]})},Hs=({isOpen:t,onClose:s})=>t?e.jsx(ks,{children:e.jsx(Qs,{onClose:s})}):null,Vs=()=>{const{user:t,logout:s}=k(),[o,a]=g.useState(!1),[i,r]=g.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`panel-frost ${S.userSection}`,children:[e.jsxs("div",{className:S.container2,children:[e.jsxs("div",{className:S.container1,children:[e.jsx("div",{className:S.avatarContainer,children:e.jsx(ce,{userId:t?.id,size:"medium",showName:!0,namePosition:"right"})}),e.jsx(vs,{onClick:()=>r(!0)})]}),e.jsx(js,{userId:t?.id,balance:t?.balance})]}),e.jsxs("div",{className:S.headerButtons,children:[e.jsx("button",{type:"button",className:S.logoutButton,onClick:s,"data-gamepad-focusable":"true",children:e.jsx("span",{className:S.buttonText,children:"Logout"})}),e.jsx(le,{onClick:()=>a(!0),"data-gamepad-focusable":"true"}),e.jsx(de,{"data-gamepad-focusable":"true"}),e.jsx(me,{"data-gamepad-focusable":"true"}),e.jsx(ue,{"data-gamepad-focusable":"true"})]})]}),o&&e.jsx(pe,{onClose:()=>a(!1)}),i&&e.jsx(Hs,{isOpen:i,onClose:()=>r(!1)})]})},ct=()=>{const{gameList:t}=ee(),{user:s,logout:o}=k(),{socket:a,isConnected:i}=U(),r=ae();re(!0);const l=ne(),[x,u]=g.useState(""),[N,n]=g.useState(!1),{shouldShowAd:h,showAd:d,hideAd:c}=he(),p=!s?.subscription?.isPremium,y=s?.id||null;g.useEffect(()=>{r.state?.fromGame&&d()},[r.state,d]),g.useEffect(()=>{s&&(!s.username||!s.id)&&(console.error("[Lobby] Invalid user data received:",s),o())},[s,o]);const Z=f=>{!i||!s||(se.play("ui.click"),l(`/${f}`))},q=f=>{u(f.target.value)},$=f=>{if(!s?.id||!i)return;const b=C=>{a.off("gameCreated",b),C?.game?.id&&l(`/${C.game.id}`)};a.on("gameCreated",b),f?a.emit("createGame",{settings:f}):a.emit("createGame")},Q=()=>$({numberOfBots:5}),H=()=>{n(!0)},V=f=>{n(!1),$(f)},P=g.useMemo(()=>{if(!t)return[];let f=t;if(x.trim()){const b=x.trim().toLowerCase();f=t.filter(C=>C.id.toLowerCase().includes(b))}return f.sort((b,C)=>{const G=b.allPlayers?.some(v=>v.userId===y),E=C.allPlayers?.some(v=>v.userId===y),R=b.disconnectedPlayers?.some(v=>v.userId===y),z=C.disconnectedPlayers?.some(v=>v.userId===y);return R&&!z?-1:!R&&z?1:G&&!E?-1:!G&&E?1:b.id.localeCompare(C.id)})},[t,x,y]);return e.jsxs("div",{className:`screen app-gradient-bg ${_.lobbyScreen} ${p?_.withAds:""}`,children:[e.jsx(oe,{}),e.jsx("div",{className:_.onlineCountWrapper,children:e.jsx(Je,{})}),e.jsx("div",{className:_.playerSection,children:e.jsx(Vs,{})}),e.jsxs("div",{className:_.gameActionsSection,children:[e.jsx("button",{type:"button",className:"btn btn-primary",onClick:Q,disabled:!s?.username,"data-gamepad-focusable":"true",children:"Create Quick Game"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:H,disabled:!s?.username,"data-gamepad-focusable":"true",children:"Create Custom Game"})]}),e.jsxs("div",{className:`panel-frost ${_.gameListSection}`,children:[e.jsx("h2",{className:_.gameListTitle,children:"Available Games"}),e.jsx("div",{className:_.searchContainer,children:e.jsxs("div",{className:"input-with-icon",children:[e.jsx("span",{className:"input-icon left",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ce,{size:18,strokeWidth:2.5})}),e.jsx(A,{title:"Search Games",type:"search",className:"no-validation",placeholder:"Search available games",value:x,onChange:q})]})}),P&&P.length>0?e.jsx("div",{className:_.gameListWrapper,children:P.map(f=>e.jsx(Ze,{game:f,onJoin:Z,userId:y},f.id))}):e.jsx("p",{className:_.emptyStateMessage,children:x.trim()?"No games found":"No games available"})]}),N&&e.jsx(es,{onSubmit:V,onClose:()=>n(!1)}),e.jsx(ie,{}),h&&e.jsx(ge,{onClose:c}),e.jsx(xe,{hideAtWidth:1e3}),e.jsx(O,{position:"left"}),e.jsx(O,{position:"right"})]})};export{ct as default};
